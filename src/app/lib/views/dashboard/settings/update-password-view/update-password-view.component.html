<form clrForm [formGroup]="passwordUpdateFormGroup">
  <clr-password-container>
    <label [translate]="'passwordUpdate.newPasswordLabel'"></label>
    <input
      clrPassword
      [placeholder]="'passwordUpdate.newPasswordPlaceHolder' | translate"
      name="password"
      formControlName="password"
      required
    />
    <clr-control-helper>
      {{ 'passwordUpdate.description1' | translate }}
      <br />
      {{ 'passwordUpdate.description2' | translate }}
      <br />
      {{ 'passwordUpdate.description3' | translate }}.
    </clr-control-helper>
    <clr-control-error
      class="field-has-error"
      *ngIf="
        passwordUpdateFormGroup.controls['password'].hasError('required') &&
        passwordUpdateFormGroup.controls['password'].touched
      "
    >
      <span [translate]="'validation.required'"></span>
    </clr-control-error>
    <clr-control-error
      class="field-has-error"
      *ngIf="
        passwordUpdateFormGroup.controls['password'].hasError('minLength') &&
        passwordUpdateFormGroup.controls['password'].touched
      "
    >
      <span
        [translate]="'validation.minValue'"
        [translateParams]="{ value: 6 }"
      ></span>
    </clr-control-error>
    <clr-control-error
      class="field-has-error"
      *ngIf="
        passwordUpdateFormGroup.controls['password'].hasError('pattern') &&
        passwordUpdateFormGroup.controls['password'].touched
      "
    >
      <span [translate]="'validation.passwordPattern'"></span>
    </clr-control-error>
  </clr-password-container>
  <clr-password-container>
    <label [translate]="'passwordUpdate.passwordConfirmationLabel'"></label>
    <input
      clrPassword
      [placeholder]="
        'passwordUpdate.passwordConfirmationPlaceHolder' | translate
      "
      name="password"
      formControlName="password_confirmation"
      required
    />
    <clr-control-helper>
      {{ 'passwordUpdate.passwordConfirmationDesc' | translate }}
    </clr-control-helper>
    <clr-control-error
      class="field-has-error"
      *ngIf="
        passwordUpdateFormGroup.controls['password_confirmation'].hasError(
          'required'
        ) && passwordUpdateFormGroup.controls['password_confirmation'].touched
      "
    >
      <span [translate]="'validation.required'"></span>
    </clr-control-error>
    <clr-control-error
      class="field-has-error"
      *ngIf="
        passwordUpdateFormGroup.controls['password_confirmation'].hasError(
          'minLength'
        ) && passwordUpdateFormGroup.controls['password_confirmation'].touched
      "
    >
      <span
        [translate]="'validation.minValue'"
        [translateParams]="{ value: 6 }"
      ></span>
    </clr-control-error>
    <clr-control-error
      class="field-has-error"
      *ngIf="
        passwordUpdateFormGroup.controls['password_confirmation'].hasError(
          'pattern'
        ) && passwordUpdateFormGroup.controls['password_confirmation'].touched
      "
    >
      <span [translate]="'validation.passwordPattern'"></span>
    </clr-control-error>
    <clr-control-error
      class="field-has-error"
      *ngIf="
        passwordUpdateFormGroup.controls['password_confirmation'].hasError(
          'Match'
        ) && passwordUpdateFormGroup.controls['password_confirmation'].touched
      "
    >
      <span [translate]="'validation.passwordMatch'"></span>
    </clr-control-error>
  </clr-password-container>
  <div class="button-container" *ngIf="state$ | async as vm">
    <button
      class="btn btn-primary btn-sm"
      type="button"
      (click)="onFormSubmitted(vm?.user?.id)"
    >
      {{ 'edit' | translate }}
    </button>
    <button
      class="btn btn-danger btn-sm"
      type="button"
      (click)="onCancelBtnClicked()"
    >
      {{ 'cancel' | translate }}
    </button>
  </div>
</form>
